{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialog/Dialog.tsx","components/Dialogs/Messages/Message.tsx","components/Dialogs/Messages/NewMessageForm.tsx","components/Dialogs/Dialogs.tsx","components/Dialogs/DialogsContainer.tsx"],"names":["withAuthRedirect","Component","connect","state","isAuth","auth","props","to","Dialog","name","id","className","Message","message","NewMessageReduxForm","reduxForm","form","handleSubmit","action","onSubmit","Field","rows","placeholder","component","Dialogs","sendMessageTC","dialogs","map","user","key","messages","formData","newMessage","compose","dialogsPage"],"mappings":"gHAAA,oCA4BeA,IAtBU,SAACC,GAmBxB,OAFmCC,aANA,SAACC,GAClC,MAAO,CACLC,OAAQD,EAAME,KAAKD,UAIYF,EAhBT,SAACI,GACzB,OAAKA,EAAMF,OAKJ,kBAACH,EAAcK,GAHlB,kBAAC,IAAD,CAAUC,GAAG,gB,+KCONC,G,OARiB,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,KAAMC,EAAS,EAATA,GACvC,OACE,yBAAKC,UAAU,yBACb,kBAAC,IAAD,CAASJ,GAAE,mBAAcG,IAAOD,MCEvBG,G,OANkB,SAAC,GAAqB,IAAnBC,EAAkB,EAAlBA,QAAkB,EAATH,GAC3C,OACE,yBAAKC,UAAU,WAAWE,K,kBCefC,EAJaC,YAAuC,CACjEC,KAAM,cADoBD,EAZsD,SAAC,GAAsB,IAApBE,EAAmB,EAAnBA,aAEnF,OACE,0BAAMC,OAAO,GAAGC,SAAUF,EAAcN,UAAU,eAChD,kBAACS,EAAA,EAAD,CAAOX,KAAM,aAAcY,KAAK,IAAIC,YAAY,mBAAmBX,UAAU,WAAWY,UAAU,aAClG,yBAAKZ,UAAU,wBACb,4BAAQA,UAAU,OAAlB,aCqCOa,G,OAnCkB,SAAC,GAAsC,IAApCrB,EAAmC,EAAnCA,MAAOsB,EAA4B,EAA5BA,cAMzC,OANqE,EAAbrB,OAatD,yBAAKO,UAAU,WACb,yBAAKA,UAAU,kBACZR,EAAMuB,SACLvB,EAAMuB,QAAQC,KAAI,SAAAC,GAAI,OACpB,kBAAC,EAAD,CAAQC,IAAKD,EAAKlB,GAAID,KAAMmB,EAAKnB,KAAMC,GAAIkB,EAAKlB,SAItD,yBAAKC,UAAU,0BACb,yBAAKA,UAAU,YACZR,EAAM2B,UACL3B,EAAM2B,SAASH,KAAI,SAAAd,GAAO,OACxB,kBAAC,EAAD,CAASgB,IAAKhB,EAAQH,GAAIG,QAASA,EAAQA,QAASH,GAAIG,EAAQH,SAItE,kBAAC,EAAD,CAAgBS,SA3BC,SAACY,GACtBN,EAAcM,EAASC,iBAKrB,kBAAC,IAAD,CAAUzB,GAAG,aCDJ0B,sBACb/B,aAPsB,SAACC,GACvB,MAAO,CACLA,MAAOA,EAAM+B,eAKkD,CAC/DT,oBAEFzB,IAJaiC,CAKbT","file":"static/js/3.48ffc75a.chunk.js","sourcesContent":["import React from 'react'\r\nimport { Redirect } from 'react-router-dom'\r\nimport { connect } from 'react-redux'\r\n\r\n\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) {\r\n      return (\r\n        <Redirect to='/login' />\r\n      )\r\n    }\r\n    return <Component {...props} />\r\n  }\r\n\r\n\r\n  const mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n\r\n  const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent)\r\n\r\n  return ConnectedRedirectComponent\r\n}\r\n\r\nexport default withAuthRedirect","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nimport { TDialog } from '../../../types/types'\r\n\r\nimport './Dialog.scss';\r\n\r\ntype Props = TDialog\r\n\r\nconst Dialog: React.FC<Props> = ({ name, id }) => {\r\n  return (\r\n    <div className=\"dialogs__users-dialog\">\r\n      <NavLink to={`/dialogs/${id}`}>{name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialog;","import React from 'react';\r\n\r\nimport './Message.scss';\r\n\r\nimport { TMessage } from '../../../types/types';\r\n\r\ntype Props = TMessage\r\n\r\nconst Message: React.FC<Props> = ({ message, id }) => {\r\n  return (\r\n    <div className=\"message\">{message}</div>\r\n  );\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Field, InjectedFormProps, reduxForm } from 'redux-form';\r\n\r\nimport { TNewMessageFromValue } from '../../../types/types'\r\n\r\ntype Props = {\r\n\r\n}\r\n\r\nconst NewMessageForm: React.FC<InjectedFormProps<TNewMessageFromValue> & Props> = ({ handleSubmit }) => {\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handleSubmit} className=\"new-message\">\r\n      <Field name={'newMessage'} rows='1' placeholder=\"Tape a message..\" className=\"textarea\" component=\"textarea\" />\r\n      <div className=\"new-message__buttons\">\r\n        <button className=\"btn\">Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst NewMessageReduxForm = reduxForm<TNewMessageFromValue, Props>({\r\n  form: 'newMessage'\r\n})(NewMessageForm)\r\n\r\nexport default NewMessageReduxForm;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Messages/Message';\r\nimport NewMessageForm from './Messages/NewMessageForm';\r\n\r\nimport './Dialogs.scss';\r\n\r\nimport { TDialogsPage, TNewMessageFromValue } from '../../types/types'\r\n\r\ntype Props = {\r\n  state: TDialogsPage\r\n  isAuth: boolean\r\n  sendMessageTC: (newMessage: string) => void\r\n}\r\n\r\nconst Dialogs: React.FC<Props> = ({ state, sendMessageTC, isAuth }) => {\r\n\r\n  const sendNewMessage = (formData: TNewMessageFromValue) => {\r\n    sendMessageTC(formData.newMessage);\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return (\r\n      <Redirect to='/login' />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"dialogs\">\r\n      <div className=\"dialogs__users\">\r\n        {state.dialogs && (\r\n          state.dialogs.map(user => (\r\n            <Dialog key={user.id} name={user.name} id={user.id} />\r\n          ))\r\n        )}\r\n      </div>\r\n      <div className=\"dialogs__messages-area\">\r\n        <div className=\"messages\">\r\n          {state.messages && (\r\n            state.messages.map(message => (\r\n              <Message key={message.id} message={message.message} id={message.id} />\r\n            ))\r\n          )}\r\n        </div>\r\n        <NewMessageForm onSubmit={sendNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","import { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nimport { sendMessageTC } from '../../redux/reducers/dialogsReducer';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\nimport Dialogs from './Dialogs';\r\n\r\nimport { TAppState, TDialogsPage } from '../../types/types'\r\n\r\ntype TMapState = {\r\n  state: TDialogsPage\r\n}\r\n\r\ntype TMapDispatch = {\r\n  sendMessageTC: (newMessage: string) => void\r\n}\r\n\r\nconst mapStateToProps = (state: TAppState): TMapState => {\r\n  return {\r\n    state: state.dialogsPage\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect<TMapState, TMapDispatch, {}, TAppState>(mapStateToProps, {\r\n    sendMessageTC\r\n  }),\r\n  withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}