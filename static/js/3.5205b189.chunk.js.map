{"version":3,"sources":["hoc/withAuthRedirect.js","components/Dialogs/Dialog/Dialog.jsx","components/Dialogs/Messages/Message.jsx","components/Dialogs/Messages/NewMessageForm.jsx","components/Dialogs/Dialogs.jsx","components/Dialogs/DialogsContainer.jsx"],"names":["withAuthRedirect","Component","connect","state","isAuth","auth","props","to","Dialog","name","id","className","Message","message","NewMessageReduxForm","reduxForm","form","handleSubmit","action","onSubmit","Field","rows","placeholder","component","Dialogs","sendMessage","dialogs","map","user","key","messages","formData","console","log","newMessage","compose","dialogsPage"],"mappings":"gHAAA,oCA0BeA,IAtBU,SAACC,GAmBxB,OAFmCC,aANA,SAACC,GAClC,MAAO,CACLC,OAAQD,EAAME,KAAKD,UAIYF,EAhBT,SAACI,GACzB,OAAKA,EAAMF,OAKJ,kBAACH,EAAcK,GAHlB,kBAAC,IAAD,CAAUC,GAAG,gB,sKCMNC,G,OARA,SAAC,GAAkB,IAAhBC,EAAe,EAAfA,KAAMC,EAAS,EAATA,GACtB,OACE,yBAAKC,UAAU,yBACb,kBAAC,IAAD,CAASJ,GAAE,mBAAcG,IAAOD,MCCvBG,G,OANC,SAAC,GAAiB,IAAfC,EAAc,EAAdA,QACjB,OACE,yBAAKF,UAAU,WAAWE,K,kBCcfC,EAJaC,YAAU,CACpCC,KAAM,cADoBD,EAZL,SAAC,GAAsB,IAApBE,EAAmB,EAAnBA,aAExB,OACE,0BAAMC,OAAO,GAAGC,SAAUF,EAAcN,UAAU,eAChD,kBAACS,EAAA,EAAD,CAAOX,KAAM,aAAcY,KAAK,IAAIC,YAAY,mBAAmBX,UAAU,WAAWY,UAAU,aAClG,yBAAKZ,UAAU,wBACb,4BAAQA,UAAU,OAAlB,aCmCOa,G,OApCC,SAAC,GAAoC,IAAlCrB,EAAiC,EAAjCA,MAAOsB,EAA0B,EAA1BA,YAOxB,OAPkD,EAAbrB,OAcnC,yBAAKO,UAAU,WACb,yBAAKA,UAAU,kBACZR,EAAMuB,SACLvB,EAAMuB,QAAQC,KAAI,SAAAC,GAAI,OACpB,kBAAC,EAAD,CAAQC,IAAKD,EAAKlB,GAAID,KAAMmB,EAAKnB,KAAMC,GAAIkB,EAAKlB,SAItD,yBAAKC,UAAU,0BACb,yBAAKA,UAAU,YACZR,EAAM2B,UACL3B,EAAM2B,SAASH,KAAI,SAAAd,GAAO,OACxB,kBAAC,EAAD,CAASgB,IAAKhB,EAAQH,GAAIG,QAASA,EAAQA,QAASH,GAAIG,EAAQH,SAItE,kBAAC,EAAD,CAAgBe,YAAaA,EAAaN,SA5BzB,SAACY,GACtBC,QAAQC,IAAIF,GACZN,EAAYM,EAASG,iBAKnB,kBAAC,IAAD,CAAU3B,GAAG,a,SCHJ4B,sBACbjC,aAPsB,SAACC,GACvB,MAAO,CACLA,MAAOA,EAAMiC,eAKU,CACvBX,kBAEFzB,IAJamC,CAKbX","file":"static/js/3.5205b189.chunk.js","sourcesContent":["import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\nimport { connect } from 'react-redux';\r\n\r\nconst withAuthRedirect = (Component) => {\r\n  const RedirectComponent = (props) => {\r\n    if (!props.isAuth) {\r\n      return (\r\n        <Redirect to='/login' />\r\n      )\r\n    }\r\n    return <Component {...props} />\r\n  }\r\n\r\n\r\n  const mapStateToPropsForRedirect = (state) => {\r\n    return {\r\n      isAuth: state.auth.isAuth\r\n    }\r\n  }\r\n\r\n  const ConnectedRedirectComponent = connect(mapStateToPropsForRedirect)(RedirectComponent);\r\n\r\n  return ConnectedRedirectComponent;\r\n};\r\n\r\nexport default withAuthRedirect;","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\n\r\nimport './Dialog.scss';\r\n\r\nconst Dialog = ({ name, id }) => {\r\n  return (\r\n    <div className=\"dialogs__users-dialog\">\r\n      <NavLink to={`/dialogs/${id}`}>{name}</NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialog;","import React from 'react';\r\n\r\nimport './Message.scss';\r\n\r\nconst Message = ({ message }) => {\r\n  return (\r\n    <div className=\"message\">{message}</div>\r\n  );\r\n};\r\n\r\nexport default Message;","import React from 'react';\r\nimport { Field, reduxForm } from 'redux-form';\r\n\r\n\r\nconst NewMessageForm = ({ handleSubmit }) => {\r\n\r\n  return (\r\n    <form action=\"\" onSubmit={handleSubmit} className=\"new-message\">\r\n      <Field name={'newMessage'} rows='1' placeholder=\"Tape a message..\" className=\"textarea\" component=\"textarea\" />\r\n      <div className=\"new-message__buttons\">\r\n        <button className=\"btn\">Send</button>\r\n      </div>\r\n    </form>\r\n  );\r\n};\r\n\r\nconst NewMessageReduxForm = reduxForm({\r\n  form: 'newMessage'\r\n})(NewMessageForm)\r\n\r\nexport default NewMessageReduxForm;","import React from 'react';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nimport Dialog from './Dialog/Dialog';\r\nimport Message from './Messages/Message';\r\nimport NewMessageForm from './Messages/NewMessageForm';\r\n\r\nimport './Dialogs.scss';\r\n\r\nconst Dialogs = ({ state, sendMessage, isAuth }) => {\r\n\r\n  const sendNewMessage = (formData) => {\r\n    console.log(formData);\r\n    sendMessage(formData.newMessage);\r\n  }\r\n\r\n  if (!isAuth) {\r\n    return (\r\n      <Redirect to='/login' />\r\n    )\r\n  }\r\n\r\n  return (\r\n    <div className=\"dialogs\">\r\n      <div className=\"dialogs__users\">\r\n        {state.dialogs && (\r\n          state.dialogs.map(user => (\r\n            <Dialog key={user.id} name={user.name} id={user.id} />\r\n          ))\r\n        )}\r\n      </div>\r\n      <div className=\"dialogs__messages-area\">\r\n        <div className=\"messages\">\r\n          {state.messages && (\r\n            state.messages.map(message => (\r\n              <Message key={message.id} message={message.message} id={message.id} />\r\n            ))\r\n          )}\r\n        </div>\r\n        <NewMessageForm sendMessage={sendMessage} onSubmit={sendNewMessage} />\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Dialogs;","import { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\n\r\nimport { sendMessage } from '../../redux/reducers/dialogsReducer';\r\nimport Dialogs from './Dialogs';\r\nimport withAuthRedirect from '../../hoc/withAuthRedirect';\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    state: state.dialogsPage\r\n  }\r\n}\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    sendMessage\r\n  }),\r\n  withAuthRedirect\r\n)(Dialogs);"],"sourceRoot":""}