{"version":3,"sources":["assets/icons/common/caret-left.svg","assets/icons/common/caret-right.svg","components/Users/User.jsx","components/common/Paginator/Paginator.jsx","components/Users/Users.jsx","redux/selectors/usersSelectors.js","components/Users/UsersContainer.jsx"],"names":["module","exports","User","name","id","status","followed","photo","onFollowing","followingToggle","isDisabledBtn","className","to","src","userPhoto","alt","disabled","onClick","classnames","Paginator","totalItemsCount","pageSize","onPageChange","currentPage","portionSize","useState","portionNumber","setPortionNumber","pagesCount","Math","ceil","pages","i","push","portionCount","leftPortionPageNumber","rightPortionPageNumber","caretLeft","filter","p","map","key","selected","caretRight","Users","totalUsersCount","users","isFetching","user","photos","small","getUsers","createSelector","state","usersPage","getPageSize","getTotalUsersCount","getCurrentPage","getIsFetching","getOnFollowing","UsersContainer","pageNumber","props","onPageChangeTC","followingToggleTC","some","followingId","this","requestUsersTC","length","Component","compose","connect"],"mappings":"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","file":"static/js/4.0ee50d61.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/caret-left.01c9ef5c.svg\";","module.exports = __webpack_public_path__ + \"static/media/caret-right.3ea90339.svg\";","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport classnames from 'classnames';\r\n\r\nimport userPhoto from '../../assets/userphoto_default.png';\r\n\r\n\r\nconst User = ({ name, id, status, followed, photo, onFollowing, followingToggle, isDisabledBtn }) => {\r\n\r\n  return (\r\n    <div className=\"users__user\">\r\n      <div className=\"users__user-leftside\">\r\n        <NavLink to={`/profile/${id}`}>\r\n          <img className=\"user-image\" src={photo != null ? photo : userPhoto} alt=\"User avatar\" />\r\n        </NavLink>\r\n        <button disabled={isDisabledBtn(id)} onClick={() => {\r\n          followingToggle(followed, id);\r\n\r\n        }} className={classnames(\"follow-btn btn\", { disabled: onFollowing })}>{followed ? 'UNFOLLOW' : 'FOLLOW'}</button>\r\n      </div>\r\n      <div className=\"users__user-description\">\r\n        <div className=\"descr-leftside\">\r\n          <NavLink to={`/profile/${id}`}>\r\n            <h3 className=\"descr-leftside__username\">{name}</h3>\r\n          </NavLink>\r\n          <span className={classnames('descr-leftside__status', { 'active': status })}>{status ? status : 'This user has no status'}</span>\r\n        </div>\r\n        <div className=\"descr-rightside\">\r\n          <h3 className=\"descr-rightside__country\">Here should be a county, </h3>\r\n          <h3 className=\"descr-rightside__city\">Here should be a city</h3>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default User;","import React, { useState } from 'react';\r\nimport classnames from 'classnames';\r\n\r\nimport './Paginator.scss';\r\nimport caretLeft from '../../../assets/icons/common/caret-left.svg';\r\nimport caretRight from '../../../assets/icons/common/caret-right.svg';\r\n\r\nconst Paginator = ({ totalItemsCount, pageSize, onPageChange, currentPage, portionSize = 10 }) => {\r\n\r\n  const [portionNumber, setPortionNumber] = useState(1);\r\n\r\n  const pagesCount = Math.ceil(totalItemsCount / pageSize);\r\n  const pages = [];\r\n  for (let i = 1; i <= pagesCount; i++) {\r\n    pages.push(i);\r\n  }\r\n\r\n  const portionCount = Math.ceil(pagesCount / portionSize);\r\n  let leftPortionPageNumber = (portionNumber - 1) * portionSize + 1;\r\n  let rightPortionPageNumber = portionNumber * portionSize;\r\n\r\n\r\n  return (\r\n    <div className=\"paginator\">\r\n      {portionNumber > 1 ? (\r\n        <span className=\"paginator__btn left\" onClick={() => { setPortionNumber(portionNumber - 1) }}>\r\n          <img src={caretLeft} alt=\"Caret left svg icon\" />\r\n        </span>\r\n      ) : (\r\n          <span className=\"paginator__btn invisible\">\r\n            <img src={caretLeft} alt=\"Caret left svg icon\" />\r\n          </span>\r\n        )\r\n      }\r\n      {pages\r\n        .filter(p => p >= leftPortionPageNumber && p <= rightPortionPageNumber)\r\n        .map(p => {\r\n          return (\r\n            <span key={p} onClick={() => onPageChange(p)} className={classnames('select', { selected: p === currentPage })}>{p}</span>\r\n          )\r\n        })}\r\n\r\n      {portionCount > portionNumber &&\r\n        <span className=\"paginator__btn right\" onClick={() => setPortionNumber(portionNumber + 1)}>\r\n          <img src={caretRight} alt=\"Caret right svg icon\" />\r\n        </span>\r\n      }\r\n\r\n\r\n\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Paginator;","import React from 'react';\r\n\r\nimport User from './User';\r\nimport Paginator from '../common/Paginator/Paginator';\r\n\r\nconst Users = ({ totalUsersCount, pageSize, onPageChange, currentPage, users, isFetching, onFollowing, followingToggle, isDisabledBtn }) => {\r\n\r\n  return (\r\n    <div className=\"users\">\r\n      {isFetching &&\r\n        null\r\n      }\r\n      <>\r\n        <Paginator totalItemsCount={totalUsersCount} pageSize={pageSize} onPageChange={onPageChange} currentPage={currentPage} />\r\n        {\r\n          users &&\r\n          users.map(user => (\r\n            <User key={user.id} id={user.id} photo={user.photos.small} name={user.name} status={user.status} followed={user.followed} onFollowing={onFollowing} followingToggle={followingToggle} isDisabledBtn={isDisabledBtn} />\r\n          ))\r\n        }\r\n      </>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Users;","import { createSelector } from \"reselect\";\r\n\r\nconst getUsersSelector = (state) => {\r\n  return state.usersPage.users;\r\n}\r\nexport const getUsers = createSelector(getUsersSelector, (users) => {\r\n  return users;\r\n});\r\n\r\nexport const getPageSize = (state) => {\r\n  return state.usersPage.pageSize;\r\n}\r\n\r\nexport const getTotalUsersCount = (state) => {\r\n  return state.usersPage.totalUsersCount;\r\n}\r\n\r\nexport const getCurrentPage = (state) => {\r\n  return state.usersPage.currentPage\r\n}\r\n\r\nexport const getIsFetching = (state) => {\r\n  return state.usersPage.isFetching\r\n}\r\n\r\nexport const getOnFollowing = (state) => {\r\n  return state.usersPage.onFollowing\r\n}\r\n","import React, { Component } from 'react'\r\nimport { compose } from 'redux';\r\nimport { connect } from 'react-redux';\r\n\r\nimport Users from './Users';\r\nimport { requestUsersTC, onPageChangeTC, followingToggleTC } from '../../redux/reducers/usersReducer';\r\nimport { getUsers, getPageSize, getTotalUsersCount, getCurrentPage, getIsFetching, getOnFollowing } from '../../redux/selectors/usersSelectors';\r\n\r\nimport './Users.scss';\r\n\r\n\r\nclass UsersContainer extends Component {\r\n\r\n  componentDidMount() {\r\n    const { users, currentPage, pageSize } = this.props;\r\n    this.props.requestUsersTC(users.length, currentPage, pageSize);\r\n  }\r\n\r\n  onPageChange = (pageNumber) => {\r\n    const { pageSize } = this.props;\r\n    this.props.onPageChangeTC(pageNumber, pageSize);\r\n  }\r\n\r\n  followingToggle = (followed, id) => {\r\n    this.props.followingToggleTC(followed, id)\r\n  }\r\n\r\n  isDisabledBtn = (id) => {\r\n    return this.props.onFollowing.some(followingId => followingId === id)\r\n  }\r\n\r\n\r\n\r\n  render() {\r\n\r\n    return (\r\n      <Users onPageChange={this.onPageChange\r\n      } currentPage={this.props.currentPage} users={this.props.users} isFetching={this.props.isFetching} onFollowing={this.props.onFollowing} followingToggle={this.followingToggle} isDisabledBtn={this.isDisabledBtn} totalUsersCount={this.props.totalUsersCount} pageSize={this.props.pageSize} />\r\n    );\r\n  }\r\n}\r\n\r\n\r\nconst mapStateToProps = (state) => {\r\n  return {\r\n    users: getUsers(state),\r\n    pageSize: getPageSize(state),\r\n    totalUsersCount: getTotalUsersCount(state),\r\n    currentPage: getCurrentPage(state),\r\n    isFetching: getIsFetching(state),\r\n    onFollowing: getOnFollowing(state)\r\n  }\r\n}\r\n\r\n\r\nexport default compose(\r\n  connect(mapStateToProps, {\r\n    requestUsersTC,\r\n    onPageChangeTC,\r\n    followingToggleTC\r\n  })\r\n)(UsersContainer);"],"sourceRoot":""}